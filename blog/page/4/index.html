
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>蕲春人 - 软件开发</title>
    <meta name="author" content="qichunren">

    
    <meta name="description" content="Install Mongo on Mac 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
caojinhuamatoMacBook-Pro:code caojinhua$ brew install mongodb
==&gt; &hellip;">
    
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">

    <link href="/atom.xml" rel="alternate" title="蕲春人 - 软件开发" type="application/atom+xml">
    <link rel="canonical" href="">
    <link href="/favicon.png" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6344646-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<header class="inner"><h1 class="left"><a href="/">蕲春人 - 软件开发</a></h1>
<nav class="menu left"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<div class="right">
	<form class="search right" action="http://google.com/search" method="get">
		<input class="left" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:qichunren.github.com">
	</form>
	<div class="social right">
		
		
		
		<a class="twitter" href="http://twitter.com/qichunren" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/qichunren" title="GitHub">GitHub</a>
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</div>

</header>
	
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/qichunren">qichunren</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('qichunren', 4, false);
	})(jQuery);
</script>

	<div id="content" class="inner">


    <article class="post">
    <h1 class="title"><a href="/blog/2011/06/04/install-mongodb/">Install Mongo on Mac</a></h1>
    <div class="entry">
        <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>caojinhuamatoMacBook-Pro:code caojinhua$ brew install mongodb
</span><span class='line'>==&gt; Downloading http://fastdl.mongodb.org/osx/mongodb-osx-x86_64-1.8.1.tgz
</span><span class='line'>######################################################################## 100.0%
</span><span class='line'>==&gt; Caveats
</span><span class='line'>If this is your first install, automatically load on login with:
</span><span class='line'>    mkdir -p ~/Library/LaunchAgents
</span><span class='line'>    cp /usr/local/Cellar/mongodb/1.8.1-x86_64/org.mongodb.mongod.plist ~/Library/LaunchAgents/
</span><span class='line'>    launchctl load -w ~/Library/LaunchAgents/org.mongodb.mongod.plist
</span><span class='line'>
</span><span class='line'>If this is an upgrade and you already have the org.mongodb.mongod.plist loaded:
</span><span class='line'>    launchctl unload -w ~/Library/LaunchAgents/org.mongodb.mongod.plist
</span><span class='line'>    cp /usr/local/Cellar/mongodb/1.8.1-x86_64/org.mongodb.mongod.plist ~/Library/LaunchAgents/
</span><span class='line'>    launchctl load -w ~/Library/LaunchAgents/org.mongodb.mongod.plist
</span><span class='line'>
</span><span class='line'>Or start it manually:
</span><span class='line'>    mongod run --config /usr/local/Cellar/mongodb/1.8.1-x86_64/mongod.conf
</span><span class='line'>MongoDB 1.8+ includes a feature for Write Ahead Logging (Journaling), which has been enabled by default.
</span><span class='line'>This is not the default in production (Journaling is disabled); to disable journaling, use --nojournal.
</span><span class='line'>==&gt; Summary
</span><span class='line'>/usr/local/Cellar/mongodb/1.8.1-x86_64: 16 files, 93M, built in 2 seconds</span></code></pre></td></tr></table></div></figure>


        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2011-06-04T00:00:00+08:00" pubdate data-updated="true">Jun 4<span>th</span>, 2011</time></div>
        <div class="tags">

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2011/05/16/remove-hidden-space-soure-code/">去掉textmate源代码中的隐形空格</a></h1>
    <div class="entry">
        <p>有这个需要，主要是因为不想在git提交后的diff中无看到不有意思的diff显示。使用textmate的同学可以用<a href="https://github.com/glennr/uber-glory-tmbundle">这个工具</a>来解决这个小问题。</p>

<h3>安装方法</h3>

<figure class='code'><figcaption><span>install step  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/Library/Application<span class="se">\ </span>Support/TextMate/Bundles/
</span><span class='line'>git clone git://github.com/glennr/uber-glory-tmbundle.git Uber<span class="se">\ </span>Glory.tmbundle
</span><span class='line'><span class="nb">cd </span>Uber<span class="se">\ </span>Glory.tmbundle
</span><span class='line'>git submodule update --init
</span><span class='line'>osascript -e <span class="s1">&#39;tell app &quot;TextMate&quot; to reload bundles&#39;</span>
</span></code></pre></td></tr></table></div></figure>


        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2011-05-16T00:00:00+08:00" pubdate data-updated="true">May 16<span>th</span>, 2011</time></div>
        <div class="tags">

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2011/05/13/learn-redis-db/">学习和了解Redis</a></h1>
    <div class="entry">
        <p><a href="http://redis.io/">Redis</a>
<a href="https://github.com/ezmobius/redis-rb">redis-rb</a> gem install redis <br/>
<a href="https://github.com/nateware/redis-objects">redis-objects</a>是基于redis-rb的一个ruby对象与redis对象映射的gem</p>

        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2011-05-13T00:00:00+08:00" pubdate data-updated="true">May 13<span>th</span>, 2011</time></div>
        <div class="tags">

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2011/05/12/use-unicorn-in-rails/">使用Unicorn</a></h1>
    <div class="entry">
        <h3>Install</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install unicorn</span></code></pre></td></tr></table></div></figure>


<p>Then add gem &#8216;unicorn&#8217; to Gemfile.
bundle exec unicorn_rails to start rails app at 8080 port.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>caojinhua:qichunren.github.com caojinhua$ unicorn_rails --help
</span><span class='line'>Usage: unicorn_rails [ruby options] [unicorn_rails options] [rackup config file]
</span><span class='line'>Ruby options:
</span><span class='line'>  -e, --eval LINE          evaluate a LINE of code
</span><span class='line'>  -d, --debug              set debugging flags (set $DEBUG to true)
</span><span class='line'>  -w, --warn               turn warnings on for your script
</span><span class='line'>  -I, --include PATH       specify $LOAD_PATH (may be used more than once)
</span><span class='line'>  -r, --require LIBRARY    require the library, before executing your script
</span><span class='line'>unicorn_rails options:
</span><span class='line'>  -o, --host HOST          listen on HOST (default: 0.0.0.0)
</span><span class='line'>  -p, --port PORT          use PORT (default: 8080)
</span><span class='line'>  -E, --env RAILS_ENV      use RAILS_ENV for defaults (default: development)
</span><span class='line'>  -D, --daemonize          run daemonized in the background
</span><span class='line'>  -l {HOST:PORT|PATH},     listen on HOST:PORT or PATH
</span><span class='line'>      --listen             this may be specified multiple times
</span><span class='line'>                           (default: 0.0.0.0:8080)
</span><span class='line'>  -c, --config-file FILE   Unicorn-specific config file
</span><span class='line'>
</span><span class='line'>      --path PATH          Runs Rails app mounted at a specific path.
</span><span class='line'>                           (default: /)
</span><span class='line'>Common options:
</span><span class='line'>  -h, --help               Show this message
</span><span class='line'>  -v, --version            Show version</span></code></pre></td></tr></table></div></figure>


<p>This is a smaple unicorn config file:</p>

<figure class='code'><figcaption><span>config/unicorn.conf.rb  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">worker_processes</span> <span class="mi">2</span>
</span><span class='line'><span class="n">working_directory</span> <span class="s2">&quot;/www/temp/ntmenu2/current&quot;</span>
</span><span class='line'><span class="n">listen</span> <span class="mi">3000</span><span class="p">,</span> <span class="ss">:tcp_nopush</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</span><span class='line'><span class="n">timeout</span> <span class="mi">30</span>
</span><span class='line'><span class="n">pid</span> <span class="s2">&quot;/www/temp/ntmenu2/current/tmp/pids/unicorn.pid&quot;</span>
</span><span class='line'><span class="n">stderr_path</span> <span class="s2">&quot;/www/temp/unicorn.stderr.log&quot;</span>
</span><span class='line'><span class="n">stdout_path</span> <span class="s2">&quot;/www/temp/unicorn.stdout.log&quot;</span>
</span></code></pre></td></tr></table></div></figure>




        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2011-05-12T00:00:00+08:00" pubdate data-updated="true">May 12<span>th</span>, 2011</time></div>
        <div class="tags">

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2011/05/12/use-juggernaut-for-realtime-app/">使用Juggernaut</a></h1>
    <div class="entry">
        <p><a href="https://github.com/maccman/juggernaut">Juggernaut</a>是基于<a href="http://nodejs.org/">Node.js</a>的一个实时(Realtime)Web的解决方案。使用起来很方便。</p>

<h3>安装方法</h3>

<ol>
<li>安装Node.js: brew install node</li>
<li>安装<a href="http://code.google.com/p/redis">Redis</a>: brew install redis</li>
<li>安装<a href="http://npmjs.org/">NPM</a>: curl http://npmjs.org/install.sh | sh</li>
<li>安装Juggernaut: 这个会把Juggernaut安装到当前目录，所以我应该先进行项目的/vendor/third目录，然后执行 npm install juggernaut</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>usermatoMacBook-Pro:third qichunren$ npm install juggernaut
</span><span class='line'>redis@0.5.11 ./node_modules/juggernaut/node_modules/redis
</span><span class='line'>node-static-maccman@0.5.3 ./node_modules/juggernaut/node_modules/node-static-maccman
</span><span class='line'>socket.io@0.6.17 ./node_modules/juggernaut/node_modules/socket.io
</span><span class='line'>juggernaut@2.0.4 ./node_modules/juggernaut
</span><span class='line'>usermatoMacBook-Pro:third qichunren$  </span></code></pre></td></tr></table></div></figure>


<ol>
<li>安装Juggernaut gem:</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem install juggernaut</span></code></pre></td></tr></table></div></figure>


<h3>使用方法</h3>

<p>我们在自己的项目中只需要引入http://localhost:8080/application.js 这个js文件即可。
然后在页面中可以这样接收服务器端的消息：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">jug</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Juggernaut</span><span class="p">;</span>
</span><span class='line'>  <span class="nx">jug</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s2">&quot;channel1&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Got data: &quot;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>服务器端直接发消息：</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s2">&quot;juggernaut&quot;</span>
</span><span class='line'><span class="no">Juggernaut</span><span class="o">.</span><span class="n">publish</span><span class="p">(</span><span class="s2">&quot;channel1&quot;</span><span class="p">,</span> <span class="s2">&quot;Some data&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>另外在启动了Juggernaut后，它默认在8080端口上有一个Helloword的应用，可以了解一下。</p>

        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2011-05-12T00:00:00+08:00" pubdate data-updated="true">May 12<span>th</span>, 2011</time></div>
        <div class="tags">

</div>
        
    </div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/3/" class="prev">Prev</a>
    
    
        <a href="/blog/page/5/" class="next">Next</a>
    
    <a href="/blog/archives" class="center">Blog Archives</a>
</nav></div>
	<footer class="inner">Copyright &copy; 2012

    qichunren

</footer>
	<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'qichunrensblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>
</html>