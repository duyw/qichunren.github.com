
<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>蕲春人的博客</title>
    <meta name="author" content="qichunren">

    
    <meta name="description" content="Static Site Using Rails 原文地址：Static site using rails. As we know rails is mainly used for dynamic website.we can also display static web pages or we &hellip;">
    
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1">

    <link href="/atom.xml" rel="alternate" title="蕲春人的博客" type="application/atom+xml">
    <link rel="canonical" href="">
    <link href="/favicon.png" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    
    
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6344646-4']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<header class="inner"><h1 class="left"><a href="/">蕲春人的博客</a></h1>
<nav class="menu left"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<div class="right">
	<form class="search right" action="http://google.com/search" method="get">
		<input class="left" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:qichunren.github.com">
	</form>
	<div class="social right">
		
		
		
		<a class="twitter" href="http://twitter.com/qichunren" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/qichunren" title="GitHub">GitHub</a>
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</div>

</header>
	
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/qichunren">qichunren</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('qichunren', 4, false);
	})(jQuery);
</script>

	<div id="content" class="inner">


    <article class="post">
    <h1 class="title"><a href="/blog/2010/04/06/create-static-page-class-in-model/">Static Site Using Rails</a></h1>
    <div class="entry">
        <p>原文地址：<a href="http://railstech.com/?p=89">Static site using rails</a>.</p>

<p>As we know rails is mainly used for dynamic website.we can also display static web pages or we can deploy full static website using rails.
The following code can help us to display static pages.</p>

<ul>
<li>Step 1:-Create Rails project</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rails static_site</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Step 2:-Generate StaticPage Controller</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby script/generate controller static_pages page</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Step 3:- Create StaticPage Class in Model</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">StaticPage</span>
</span><span class='line'>  <span class="no">Formats</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>      <span class="s2">&quot;html&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;png&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;jpg&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;image/jpg&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Step 4:- Add following line in routes.rb</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">map</span><span class="o">.</span><span class="n">page</span> <span class="s2">&quot;page/:filename.:format&quot;</span><span class="p">,</span> <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="s1">&#39;static_pages&#39;</span><span class="p">,</span> <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s1">&#39;page&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Step 5:- Now add following line into static_pages controller</li>
</ul>


<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">page</span>
</span><span class='line'> <span class="n">send_file</span>
</span><span class='line'> <span class="s2">&quot;</span><span class="si">#{</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="s2">/app/views/static_pages/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:filename</span><span class="o">]</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:format</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="ss">:disposition</span> <span class="o">=&gt;</span><span class="s1">&#39;inline&#39;</span><span class="p">,</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="no">StaticPage</span><span class="o">::</span><span class="no">Formats</span><span class="o">[</span><span class="n">params</span><span class="o">[</span><span class="ss">:format</span><span class="o">]]</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Step 6:- All the static pages place in RAILS_ROOT/app/views/static_pages/ folder</li>
</ul>


<p>Step 7 :- Start server and Type url as shown below.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ruby script/server</span></code></pre></td></tr></table></div></figure>




        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2010-04-06T00:00:00+08:00" pubdate data-updated="true">Apr 6<span>th</span>, 2010</time></div>
        <div class="tags">

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2010/02/01/buy-tickets/">买票记</a></h1>
    <div class="entry">
        <p>昨天是周日，下午三点起开售2月10号的票。</p>

<p>早上就搬一个小板凳去排队。</p>

<p>火车站几百个临时售票窗口前条条长队，哦，还有很多武警。</p>

<p>车票信息屏上显示着到全国各地的车票信息。</p>

<p>下午三点正式售票了。我看着车票信息屏，感觉就像是股市开早盘了，不过比股市更疯狂，在不一个小时的时间里，几百张上千张的到各地的2月10号的车票大部分一售而空，剩余票数从几百一下子变成了0。票务系统都有些卡了。</p>

<p>买到票的人兴奋不已，我看到他们一个劲的仔细的看着他的票。</p>

<p>同时我看到了黄牛党混在其中，兴奋不已，搞到一次票后，又来后面排队。</p>

<p>我没有杯具，买到了一张到三亚的票。不过我一个同学就杯具了，问的时候还有票，付钱的时候就没有票了，只能期待今天能买到11号的票了。</p>

<p>一个小时后售票处就冷清下来了。</p>

        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2010-02-01T11:54:00+08:00" pubdate data-updated="true">Feb 1<span>st</span>, 2010</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/blog/categories/life/'>Life</a>
  
</div>

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2009/12/17/i-fell-unhappy/">最近有些郁闷</a></h1>
    <div class="entry">
        <p>最近工作得很郁闷，很是不爽。</p>

<p>每天的事情说多也不是太多，主要是我担负着业务数据维护和系统开发两个方面的角色，我感觉很是难处理和协调事情，弄得工作效率十分低下。</p>

<p>一会儿这个人叫我拉点统计数据，一会儿那个叫我改个东西，同时我还要开发业务系统的新功能。感觉人格分裂了。</p>

<p>本来就是两个人做的事情，人走了，都弄给我一个人担当了。</p>

<p>虽然我决定上午做维护方面的工作，下午搞开发写代码，可是还是不行，因为有时上午又没有维护方面的事，那就开发吧，又突然来了个电话，搞得思路全乱了。</p>

<p>这些天我在找一个适合我的todo-list工具，试用了一些，还是没有找到适合我的。我要找的todo-list工具应该可以记录日常数据改动，把list自动转为工作日志这样的。晚上回去在看Delphi7，希望这段时间自己做一个适合自己使用的Todo-list工具。</p>

<p>面对这样子我也不想，我在反思自己：</p>

<p>面对公司其它人经常问我要统计数据的，我之前总是写sql帮他们查，后来我抽时间做出了业务数据统计系统，这方面的事情一下子少了很多。</p>

<p>面对公司其它人经常由于业务原因要回滚业务操作（这里系统设计虽然有问题，但是系统是不可能完全描述实现业务的），我就自己总结写了很多常用的业务维护脚本，这个也节省了我不少时间。</p>

<p>面对开发中调试业务数据十分烦锁，我用rspec跑起了单元测试，这个也一下子节省了我不少时间。</p>

<p>做了以上这些，还是感觉不够，每天还是有很多重复的时候要做。</p>

<p>下一个目标就是安全升级到Rails2.2，再砍掉系统中的垃圾冗余代码。可是实在是太难抽出时间了。</p>

<hr />

<h2>总结：其实现在的环境很是适合我的快速成长， 我觉得在有限的时间里做更多有意义的事情出来，我的2010。</h2>

<p><a href="http://qichunren.iteye.com/blog/550649">我在javaeye上的原文链接</a></p>

        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2009-12-17T16:30:00+08:00" pubdate data-updated="true">Dec 17<span>th</span>, 2009</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/blog/categories/life/'>Life</a>
  
</div>

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2009/05/07/connect-to-oracle-in-rails/">Rails中连接Oracle数据库</a></h1>
    <div class="entry">
        <h3>步骤</h3>

<ul>
<li><p>在Oracle官方网站下载sdk-10.2.0.5.0-linux-x64.zip和basic-10.2.0.5.0-linux-x64.zip这两个文件。将这两个文件放在同一个地方，然后分别执行：</p>

<p>  unzip sdk-10.2.0.5.0-linux-x64.zip
  unzip basic-10.2.0.5.0-linux-x64.zip</p></li>
</ul>


<p>这样执行后，会在当前目录下有一个instantclient_10_2目录，刚才解压的zip文件的内容就在其中。<br/>
* 安装Ruby-OCI2:
在安装Ruby-OCI2之前必须要先配置LD_LIBRARY_PATH变量</p>

<pre><code>    export LD_LIBRARY_PATH=/opt/instantclient_10_2/ 
</code></pre>

<ul>
<li><p>然后</p>

<pre><code>  gem install ruby-oci8     
</code></pre></li>
<li><p>安装adapter for rails:</p>

<pre><code>  gem install activerecord-oracle_enhanced-adapter   
</code></pre></li>
</ul>


<h3>Resources</h3>

<ul>
<li><a href="http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html">OracleInstantClient下载</a></li>
<li><a href="http://github.com/rsim/oracle-enhanced">oracle-enhanced adapter</a></li>
</ul>


        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2009-05-07T12:01:00+08:00" pubdate data-updated="true">May 7<span>th</span>, 2009</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/blog/categories/database/'>database</a>, <a class='category' href='/blog/categories/oracle/'>oracle</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>
  
</div>

</div>
        
    </div>
</article>


    <article class="post">
    <h1 class="title"><a href="/blog/2008/10/09/use-benchmark/">Benchmark用法</a></h1>
    <div class="entry">
        <p><a href="http://rubybenchmark.com/">Benchmark</a>可以用来测试某个函数或者任何代码的执行时间。</p>

<p>用法很简单：</p>

<div>
  <pre>
    <code class='ruby'>require 'benchmark'
n = 1500
Benchmark.bmbm do |x|
    x.report(&quot;+ method&quot;) { n.times {string1 = &quot;ddd&quot; + &quot;11111&quot; + &quot;Helodd&quot; } }
    x.report(&quot;&lt;&lt; method&quot;) { n.times {string2 = &quot;ddd&quot; &lt;&lt; &quot;11111&quot; &lt;&lt; &quot;Helodd&quot;} }  
end</code>
  </pre>
</div>


<p>结果如下：</p>

<div>
  <pre>
    <code class='text'>usermatoMacBook-Pro:test qichunren$ ruby test.rb 
Rehearsal ---------------------------------------------
+ method    0.000000   0.000000   0.000000 (  0.001722)
&lt;&lt; method   0.000000   0.000000   0.000000 (  0.001073)
------------------------------------ total: 0.000000sec

                user     system      total        real
+ method    0.000000   0.000000   0.000000 (  0.001040)
&lt;&lt; method   0.000000   0.000000   0.000000 (  0.000719)</code>
  </pre>
</div>


<h3>参考资料</h3>

<ul>
<li><a href="http://ruby-doc.org/stdlib/libdoc/benchmark/rdoc/index.html">Benchmark Rdoc</a></li>
<li><a href="http://www.kuqin.com/rubycndocument/man/addlib/benchmark.html">Ruby参考手册</a></li>
<li><a href="https://github.com/acangiano/ruby-benchmark-suite">ruby-benchmark-suite</a></li>
</ul>


        
        
    </div>
    <div class="meta">
        <div class="date">








  


<time datetime="2008-10-09T12:01:00+08:00" pubdate data-updated="true">Oct 9<span>th</span>, 2008</time></div>
        <div class="tags">

<div class="cat">
  
    <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/test/'>test</a>
  
</div>

</div>
        
    </div>
</article>

<nav id="pagenavi">
    
        <a href="/blog/page/10/" class="prev">Prev</a>
    
    
    <a href="/blog/archives" class="center">Blog Archives</a>
</nav></div>
	<footer class="inner">Copyright &copy; 2012

    qichunren

</footer>
	<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'qichunrensblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>
</html>